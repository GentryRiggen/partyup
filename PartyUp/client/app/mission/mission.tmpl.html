<div class="page">
  <div class="title">
    <div style="background-image: url('{{ MissionCtrl.mission.bannerUrl }}')" class="page-banner"></div>
    <h1>{{MissionCtrl.mission.name}}</h1>
    <p>{{MissionCtrl.mission.description}}</p>
    <a ng-click="MissionCtrl.goBackToCommunity()"><i class="fa fa-long-arrow-left"></i> Back To Community</a>
  </div>
  <div layout="row">
    <h2>Events
      <small>({{MissionCtrl.events.length}})</small>
    </h2>
    <span flex></span>
    <md-button class="md-raised md-accent" ng-click="MissionCtrl.hostEvent()">Host Event</md-button>
  </div>
  <md-divider></md-divider>
  <div layout="row" layout-wrap>
    <md-progress-linear class="md-accent" md-mode="indeterminate" ng-show="MissionCtrl.events.length == 0"></md-progress-linear>
    
    <div ng-show="MissionCtrl.events.length == 0">
      <h4>No events so far. Why not host one?</h4>
      <strong>(No need to refresh, new events will show up as they are created)</strong>
    </div>
    
    <event-card flex-sm="90" offset-sm="5" flex-md="33" flex-lg="25" 
      ng-repeat="event in MissionCtrl.events" 
      event="event" when-click="joinEvent">
    </event-card>
  </div>
</div>